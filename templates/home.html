{% extends "base.html" %}

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>{{ page_title }}</title>

    <!-- 파비콘 -->
    <link rel="icon" href="{{ url_for('static', filename=meta_info['favicon']) }}" type="image/x-icon">

    <!-- Open Graph 메타 태그 추가 -->
    <meta property="og:title" content="{{ meta_info['og_title'] }}" />
    <meta property="og:description" content="{{ meta_info['og_description'] }}" />
    <meta property="og:image" content="{{ meta_info['og_image'] }}" />
    <meta property="og:url" content="{{ meta_info['og_url'] }}" />
    <meta property="og:type" content="{{ meta_info['og_type'] }}" />
</head>

{% block content %}
<div class="home-container">
    <div class="link-item">
        <a href="/notice">
            <p>공지사항 →</p>
        </a>
    </div>
    <div class="link-item">
        <a href="/booth-food">
            <p>부스 & 푸드트럭 →</p>
        </a>
    </div>
    <div class="link-item">
        <a href="/lineup">
            <p>라인업 →</p>
        </a>
    </div>
    <div class="link-item">
        <a href="/schedule">
            <p>축제 일정 →</p>
        </a>
    </div>
    <div class="link-item">
        <a href="/qna">
            <p>자주 하는 질문 →</p>
        </a>
    </div>

    <!-- 라인업 섹션 -->
    <section id="lineup">
        <h2>라인업</h2>
        <div class="section-line"></div>
        <div class="carousel">
            <button class="carousel-prev" aria-label="Previous slide">&#10094;</button>
            <div class="carousel-track">
                <div class="carousel-item">
                    <img src="{{ url_for('static', filename='images/mcyou.jpg') }}" alt="Lineup Image 1" class="artist-image">
                </div>
                <div class="carousel-item">
                    <img src="{{ url_for('static', filename='images/mcgang.jpg') }}" alt="Lineup Image 2" class="artist-image">
                </div>
                <div class="carousel-item">
                    <img src="{{ url_for('static', filename='images/mcsin.jpg') }}" alt="Lineup Image 3" class="artist-image">
                </div>
            </div>
            <button class="carousel-next" aria-label="Next slide">&#10095;</button>
        </div>
        <div class="section-line"></div>
    </section>

    <!-- 지도 섹션 -->
    <section id="map-section" class="map-section">
        <h2>찾아오시는 길</h2>
        <div style="font:normal normal 400 12px/normal dotum, sans-serif; width:350px; height:382px; color:#333; position:relative">
            <div style="height: 350px;">
                <a href="https://map.kakao.com/?urlX=610117.0000000014&amp;urlY=409053.00000000047&amp;itemId=17569957&amp;q=%EA%B5%AD%EB%A6%BD%EC%88%9C%EC%B2%9C%EB%8C%80%ED%95%99%EA%B5%90%20%EC%9A%B4%EB%8F%99%EC%9E%A5&amp;srcid=17569957&amp;map_type=TYPE_MAP&amp;from=roughmap" target="_blank">
                    <img class="map" src="http://t1.daumcdn.net/roughmap/imgmap/68cab9f228257c7fed8291db7958a3e8db46be16ae71258357e3ec15e7574b3c" width="348px" height="348px" style="border:1px solid #ccc;">
                </a>
            </div>
            <div style="overflow: hidden; padding: 7px 11px; border: 1px solid rgba(0, 0, 0, 0.1); border-radius: 0px 0px 2px 2px; background-color: rgb(249, 249, 249);">
                <a href="https://map.kakao.com" target="_blank" style="float: left;">
                    <img src="http://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/logo_kakaomap.png" width="72" height="16" alt="카카오맵" style="display:block;width:72px;height:16px">
                </a>
                <div style="float: right; position: relative; top: 1px; font-size: 11px;">
                    <a target="_blank" href="https://map.kakao.com/?from=roughmap&amp;srcid=17569957&amp;confirmid=17569957&amp;q=%EA%B5%AD%EB%A6%BD%EC%88%9C%EC%B2%9C%EB%8C%80%ED%95%99%EA%B5%90%20%EC%9A%B4%EB%8F%99%EC%9E%A5&amp;rv=on" style="float:left;height:15px;padding-top:1px;line-height:15px;color:#000;text-decoration: none;">로드뷰</a>
                    <span style="width: 1px; margin: 0 8px; height: 11px; border-left: 1px solid #d0d0d0; float: left;"></span>
                    <a target="_blank" href="https://map.kakao.com/?from=roughmap&amp;eName=%EA%B5%AD%EB%A6%BD%EC%88%9C%EC%B2%9C%EB%8C%80%ED%95%99%EA%B5%90%20%EC%9A%B4%EB%8F%99%EC%9E%A5&amp;eX=610117.0000000014&amp;eY=409053.00000000047" style="float:left;height:15px;padding-top:1px;line-height:15px;color:#000;text-decoration: none;">길찾기</a>
                    <span style="width: 1px; margin: 0 8px; height: 11px; border-left: 1px solid #d0d0d0; float: left;"></span>
                    <a target="_blank" href="https://map.kakao.com?map_type=TYPE_MAP&amp;from=roughmap&amp;srcid=17569957&amp;itemId=17569957&amp;q=%EA%B5%AD%EB%A6%BD%EC%88%9C%EC%B2%9C%EB%8C%80%ED%95%99%EA%B5%90%20%EC%9A%B4%EB%8F%99%EC%9E%A5&amp;urlX=610117.0000000014&amp;urlY=409053.00000000047" style="float:left;height:15px;padding-top:1px;line-height:15px;color:#000;text-decoration: none;">지도 크게 보기</a>
                </div>
            </div>
        </div> 
    </section>
</div>

<script>
    // Carousel (슬라이드) 기능
    const prevBtn = document.querySelector('.carousel-prev');
    const nextBtn = document.querySelector('.carousel-next');
    const carouselTrack = document.querySelector('.carousel-track');
    const carouselItems = document.querySelectorAll('.carousel-item');
    let currentIndex = 0;
    const totalItems = carouselItems.length;

    // 슬라이드 이동 함수
    function updateCarousel() {
        const itemWidth = carouselItems[0].offsetWidth;  // 각 이미지의 너비를 계산
        carouselTrack.style.transition = 'transform 0.3s ease';  // 부드러운 전환 효과
        carouselTrack.style.transform = `translateX(-${currentIndex * itemWidth}px)`;  // 슬라이드 이동
    }

    // 이전 이미지
    prevBtn.addEventListener('click', () => {
        currentIndex = (currentIndex > 0) ? currentIndex - 1 : totalItems - 1;  // 첫 번째 이미지에서 돌아가도록 설정
        updateCarousel();  // 슬라이드 이동
    });

    // 다음 이미지
    nextBtn.addEventListener('click', () => {
        currentIndex = (currentIndex < totalItems - 1) ? currentIndex + 1 : 0;  // 마지막 이미지에서 돌아가도록 설정
        updateCarousel();  // 슬라이드 이동
    });
</script>

{% endblock %}